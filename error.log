{"level":"error","message":"[API - /analyze] Unhandled error during AI analysis: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent: [400 Bad Request] * GenerateContentRequest.tools[4].function_declarations[0].parameters.properties[startDate].format: only 'enum' and 'date-time' are supported for STRING type\n* GenerateContentRequest.tools[4].function_declarations[0].parameters.properties[endDate].format: only 'enum' and 'date-time' are supported for STRING type\n","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent: [400 Bad Request] * GenerateContentRequest.tools[4].function_declarations[0].parameters.properties[startDate].format: only 'enum' and 'date-time' are supported for STRING type\n* GenerateContentRequest.tools[4].function_declarations[0].parameters.properties[endDate].format: only 'enum' and 'date-time' are supported for STRING type\n\n    at handleResponseNotOk (D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n    at async generateContent (D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\node_modules\\@google\\generative-ai\\dist\\index.js:867:22)\n    at async ChatSession.sendMessage (D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\node_modules\\@google\\generative-ai\\dist\\index.js:1210:9)\n    at async D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\index.js:701:24","status":400,"statusText":"Bad Request","timestamp":"2025-06-14T00:05:20.458Z"}
{"errorDetails":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","domain":"googleapis.com","metadata":{"service":"generativelanguage.googleapis.com"},"reason":"API_KEY_INVALID"},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"API key not valid. Please pass a valid API key."}],"level":"error","message":"[API Error] Unhandled error during AI analysis: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent: [400 Bad Request] API key not valid. Please pass a valid API key. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"API_KEY_INVALID\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\"}},{\"@type\":\"type.googleapis.com/google.rpc.LocalizedMessage\",\"locale\":\"en-US\",\"message\":\"API key not valid. Please pass a valid API key.\"}]","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent: [400 Bad Request] API key not valid. Please pass a valid API key. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"API_KEY_INVALID\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\"}},{\"@type\":\"type.googleapis.com/google.rpc.LocalizedMessage\",\"locale\":\"en-US\",\"message\":\"API key not valid. Please pass a valid API key.\"}]\n    at handleResponseNotOk (D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\node_modules\\@google\\generative-ai\\dist\\index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\node_modules\\@google\\generative-ai\\dist\\index.js:403:9)\n    at async generateContent (D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\node_modules\\@google\\generative-ai\\dist\\index.js:867:22)\n    at async ChatSession.sendMessage (D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\node_modules\\@google\\generative-ai\\dist\\index.js:1210:9)\n    at async D:\\Users\\tiven\\OneDrive\\Desktop\\add\\horizon-ai-backend\\index.js:705:24","status":400,"statusText":"Bad Request","timestamp":"2025-06-14T01:18:15.535Z"}
